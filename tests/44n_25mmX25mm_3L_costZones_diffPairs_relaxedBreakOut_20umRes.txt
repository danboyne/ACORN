#12345678901234567890123456789012345678901234567890123456789012345678901234567890
# Any line that begins with a '#' character is a comment and is disregarded by
# the auto-router program. Blank lines are allowed. Use them to add clarity to 
# the input file.
#
# You can add additional comments following two consecutive slash characters:
# grid_resolution = 5  // 5 micron grid is fine enough for 20um line/space
#


# Specify the dimension in microns of the grid that the auto-router will use.
# Use a dimension that is less than one half to one quarter of the smallest
# linewidth or spacing in the design.
grid_resolution = 20  // in microns

# Specify the dimensions in millimeters of the grid:
width  = 25  // in millimeters
height = 25  // in millimeters

# Specify the number of routing layers. Typical values are 1, 2, 4, 6, and 8.
number_layers = 3

# Specify the name of each routing layer and (for multiple layers) the name
# of each intervening via layer. Examples:
# 
#   layer_names = M1 V1-2 M2 V2-3 M3 V3-4 M4  // For 4-layer substrate
#   layer_names = M   // for single-layer
#
layer_names = Pkg_M1 V1-5 Pkg_M5 BGA PCB

#
# Specify the origin that the start/end-locations are relative to. Allowed 
# values are: center, lower_left, upper_left, lower_right, upper_right
#
origin = lower_left

#
# Specify the start- and end-locations of the paths to be routed. Dimensions are
# in microns, relative to the origin specified with the 'origin' statement.
# Start- and End-Layers are specified using the names from the 'layer_names'
# statement.
#
start_nets
# Net                Start   Start    Start        End      End     End     Net-specific     Diff Pair Partner
# Name               Layer     X        Y         Layer      X       Y      Rule (optional)  (optional)
# ----------------- ------- -------- --------    ------- -------- --------  ---------------  -----------------
Net_35_P             Pkg_M1 15547.40 12647.06      PCB   22500.00 11300.00      50_ohm        Net_36_N
Net_36_N             Pkg_M1 15382.16 12647.06      PCB   23300.00 11300.00      50_ohm        Net_35_P
Net_37_P             Pkg_M1 15382.16 12360.68      PCB   22500.00 12100.00      50_ohm        Net_38_N
Net_38_N             Pkg_M1 15547.40 12360.68      PCB   23300.00 12100.00      50_ohm        Net_37_P
Net_120_P            Pkg_M1 15547.40 14905.16      PCB   19300.00 22500.00      50_ohm        Net_121_N  // Net_120_P moved away from pkg edge
Net_121_N            Pkg_M1 15382.16 14905.16      PCB   19300.00 23300.00      50_ohm        Net_120_P
Net_122_P            Pkg_M1 15547.40 14453.54      PCB   21700.00 20900.00      50_ohm        Net_123_N
Net_123_N            Pkg_M1 15382.16 14453.54      PCB   20900.00 20900.00      50_ohm        Net_122_P
Net_124_P            Pkg_M1 15547.40 14001.92      PCB   20100.00 18500.00      50_ohm        Net_125_N
Net_125_N            Pkg_M1 15382.16 14001.92      PCB   19300.00 18500.00      50_ohm        Net_124_P
Net_126_P            Pkg_M1 15547.40 13550.30      PCB   20900.00 15300.00      50_ohm        Net_127_N
Net_127_N            Pkg_M1 15382.16 13550.30      PCB   20900.00 16100.00      50_ohm        Net_126_P
Net_128_P            Pkg_M1 15547.40 11171.06      PCB   20900.00  8900.00      50_ohm        Net_129_N
Net_129_N            Pkg_M1 15382.16 11171.06      PCB   20900.00  9700.00      50_ohm        Net_128_P
Net_130_P            Pkg_M1 15547.40 10719.44      PCB   19300.00  7300.00      50_ohm        Net_131_N
Net_131_N            Pkg_M1 15382.16 10719.44      PCB   19300.00  8100.00      50_ohm        Net_130_P
Net_132_P            Pkg_M1 15547.40 10267.82      PCB   20900.00  4100.00      50_ohm        Net_133_N
Net_133_N            Pkg_M1 15382.16 10267.82      PCB   20900.00  3300.00      50_ohm        Net_132_P
Net_134_P            Pkg_M1 15547.40  9816.20      PCB   20100.00  2500.00      50_ohm        Net_135_N
Net_135_N            Pkg_M1 15382.16  9816.20      PCB   20100.00  1700.00      50_ohm        Net_134_P
Net_136_P            Pkg_M1 15547.40 13098.68      PCB   19300.00 12100.00      50_ohm        Net_137_N
Net_137_N            Pkg_M1 15382.16 13098.68      PCB   19300.00 12900.00      50_ohm        Net_136_P
Net_153_P            Pkg_M1 11538.08 16118.90      PCB   12100.00 18500.00      50_ohm        Net_154_N
Net_154_N            Pkg_M1 11394.89 16042.85      PCB   12100.00 19300.00      50_ohm        Net_153_P
Net_265_N            Pkg_M1 11416.40  9083.42      PCB   12100.00  7300.00      100_ohm       Net_266_P
Net_266_P            Pkg_M1 11416.40  8917.82      PCB   12100.00  6500.00      100_ohm       Net_265_N
Net_267_N            Pkg_M1 13276.70  9083.42      PCB   15300.00  7300.00      100_ohm       Net_268_P
Net_268_P            Pkg_M1 13276.70  8917.82      PCB   15300.00  6500.00      100_ohm       Net_267_N
Net_269_N            Pkg_M1 11913.20  8917.82      PCB   13700.00  2500.00      100_ohm       Net_270_P
Net_270_P            Pkg_M1 11913.20  9083.42      PCB   13700.00  1700.00      100_ohm       Net_269_N
Net_271_N            Pkg_M1 12410.00  8917.82      PCB   14500.00  2500.00      100_ohm       Net_272_P
Net_272_P            Pkg_M1 12410.00  9083.42      PCB   14500.00  1700.00      100_ohm       Net_271_N
Net_273_N            Pkg_M1 12575.60  8917.82      PCB   16100.00  2500.00      100_ohm       Net_274_P
Net_274_P            Pkg_M1 12575.60  9083.42      PCB   16100.00  1700.00      100_ohm       Net_273_N
Net_275_N            Pkg_M1 13072.40  8917.82      PCB   16900.00  2500.00      100_ohm       Net_276_P
Net_276_P            Pkg_M1 13072.40  9083.42      PCB   16900.00  1700.00      100_ohm       Net_275_N
Net_277_N            Pkg_M1 12078.80  8917.82      PCB   13700.00  4100.00      100_ohm       Net_278_P
Net_278_P            Pkg_M1 12078.80  9083.42      PCB   13700.00  4900.00      100_ohm       Net_277_N
Net_279_N            Pkg_M1 12244.40  8917.82      PCB   14500.00  4100.00      100_ohm       Net_280_P
Net_280_P            Pkg_M1 12244.40  9083.42      PCB   14500.00  4900.00      100_ohm       Net_279_N
Net_281_N            Pkg_M1 12741.20  8917.82      PCB   16100.00  4100.00      100_ohm       Net_282_P
Net_282_P            Pkg_M1 12741.20  9083.42      PCB   16100.00  4900.00      100_ohm       Net_281_N
Net_283_N            Pkg_M1 12906.80  8917.82      PCB   16900.00  4100.00      100_ohm       Net_284_P
Net_284_P            Pkg_M1 12906.80  9083.42      PCB   16900.00  4900.00      100_ohm       Net_283_N
end_nets

# 
# Specify which areas on each layer to block from routing. By default, all areas
# are routable. Use the following BLOCK or UNBLOCK statements to define 
# unroutable areas. All coordinates are in microns.
#
#  BLOCK RECT <layer name> X1 Y1 X2 Y2 // Block the rectangle defined by 
#                                      // (x1, y1) and (x2, y2)
#
#  BLOCK TRI  <layer name> X1 Y1 X2 Y2 X2 Y3 // Block triangle defined by 
#                                            // 3 x/y coordinates
#
#  BLOCK CIR  <layer name> X Y R  // Block circle defined by center (x,y) and 
#                                 // radius R
#
#  BLOCK ALL <layer name>         // Block all cells on layer <layer name>
#
#  UNBLOCK RECT <layer name> X1 Y1 X2 Y2 // Unblock the rectangle defined by 
#                                        // (x1, y1) and (x2, y2)
#
#  UNBLOCK TRI  <layer name> X1 Y1 X2 Y2 X2 Y3 // Unblock triangle defined 
#                                              // by 3 x/y coordinates
#
#  UNBLOCK CIR  <layer name> X Y R  // Unblock circle defined by center (x,y) 
#                                   // and radius R
#
#  UNBLOCK ALL <layer name>         // Unblock all cells on layer <layer name> 
#
# As an example, to create a keep-out zone on the perimeter of layer M1,
# use the folowing two commands:
#
#    BLOCK ALL M1                    // Block all of M1
#    UNBLOCK RECT M1 20 20 16.8 16.8 // Unblock a large rectangle in middle of M1
#

#
# Block all routing layers in package outside of 23x23mm package outline:
#
BLOCK ALL Pkg_M1
BLOCK ALL Pkg_M5
UNBLOCK RECT Pkg_M1 1300 1300 23700 23700 // Allow routing within pkg, with 300um keep-out zone on perimeter
UNBLOCK RECT Pkg_M5 1300 1300 23700 23700 // Allow routing within pkg, with 300um keep-out zone on perimeter
#
# End of package outline definition
#

#
# Create the BGA pattern on layers BGA and PCB:
#
BLOCK RECT  BGA  1300 1300 23700 23700   // Block entire BGA layer, and then unblock areas for BGAs
UNBLOCK CIR BGA  22900.00 11300.00  660   // Wide opening for Net_35_P/Net_36_N diff pair
UNBLOCK CIR BGA  22900.00 12100.00  660   // Wide opening for Net_37_P/Net_38_N diff pair
UNBLOCK CIR BGA  19300.00 22900.00  660     // Wide opening for Net_120_P/Net_121_N diff pair (moved away from package edge)
UNBLOCK CIR BGA  21300.00 20900.00  660   // Wide opening for Net_122_P/Net_123_N diff pair
UNBLOCK CIR BGA  19700.00 18500.00  660   // Wide opening for Net_124_P/Net_125_N diff pair
UNBLOCK CIR BGA  20900.00 15700.00  660   // Wide opening for Net_126_P/Net_127_N diff pair
UNBLOCK CIR BGA  20900.00 9300.00   660   // Wide opening for Net_128_P/Net_129_N diff pair
UNBLOCK CIR BGA  19300.00 7700.00   660   // Wide opening for Net_130_P/Net_131_N diff pair
UNBLOCK CIR BGA  20900.00 3700.00   660   // Wide opening for Net_132_P/Net_133_N diff pair
UNBLOCK CIR BGA  20100.00 2100.00   660   // Wide opening for Net_134_P/Net_135_N diff pair
UNBLOCK CIR BGA  19300.00 12500.00  660   // Wide opening for Net_136_P/Net_137_N diff pair
UNBLOCK CIR BGA  12100.00 18900.00  660     // Wide opening for Net_153_P/Net_154_N diff pair
UNBLOCK CIR BGA  12100.00 6900.00  660   // Wide opening for Net_265_N/Net_266_P diff pair
UNBLOCK CIR BGA  15300.00 6900.00  660   // Wide opening for Net_267_N/Net_268_P diff pair
UNBLOCK CIR BGA  13700.00 2100.00  660   // Wide opening for Net_269_N/Net_270_P diff pair
UNBLOCK CIR BGA  14500.00 2100.00  660   // Wide opening for Net_271_N/Net_272_P diff pair
UNBLOCK CIR BGA  16100.00 2100.00  660   // Wide opening for Net_273_N/Net_274_P diff pair
UNBLOCK CIR BGA  16900.00 2100.00  660   // Wide opening for Net_275_N/Net_276_P diff pair
UNBLOCK CIR BGA  13700.00 4500.00  660   // Wide opening for Net_277_N/Net_278_P diff pair
UNBLOCK CIR BGA  14500.00 4500.00  660   // Wide opening for Net_279_N/Net_280_P diff pair
UNBLOCK CIR BGA  16100.00 4500.00  660   // Wide opening for Net_281_N/Net_282_P diff pair
UNBLOCK CIR BGA  16900.00 4500.00  660   // Wide opening for Net_283_N/Net_284_P diff pair
# End of BGA pattern definition for layers BGA and PCB


#
# Create pattern for blocking vias directly above BGA balls (no via-in-pad)
#
BLOCK CIR V1-5  22900.00 11300.00  660   // Wide circle for Net_35_P/Net_36_N diff pair
BLOCK CIR V1-5  22900.00 12100.00  660   // Wide circle for Net_37_P/Net_38_N diff pair
BLOCK CIR V1-5  19300.00 22900.00  660     // Wide circle for Net_120_P/Net_121_N diff pair (moved away from package edge)
BLOCK CIR V1-5  21300.00 20900.00  660   // Wide circle for Net_122_P/Net_123_N diff pair
BLOCK CIR V1-5  19700.00 18500.00  660   // Wide circle for Net_124_P/Net_125_N diff pair
BLOCK CIR V1-5  20900.00 15700.00  660   // Wide circle for Net_126_P/Net_127_N diff pair
BLOCK CIR V1-5  20900.00 9300.00   660   // Wide circle for Net_128_P/Net_129_N diff pair
BLOCK CIR V1-5  19300.00 7700.00   660   // Wide circle for Net_130_P/Net_131_N diff pair
BLOCK CIR V1-5  20900.00 3700.00   660   // Wide circle for Net_132_P/Net_133_N diff pair
BLOCK CIR V1-5  20100.00 2100.00   660   // Wide circle for Net_134_P/Net_135_N diff pair
BLOCK CIR V1-5  19300.00 12500.00  660   // Wide circle for Net_136_P/Net_137_N diff pair
BLOCK CIR V1-5  12100.00 18900.00  660     // Wide circle for Net_153_P/Net_154_N diff pair
BLOCK CIR V1-5  12100.00 6900.00  660   // Wide circle for Net_265_N/Net_266_P diff pair
BLOCK CIR V1-5  15300.00 6900.00  660   // Wide circle for Net_267_N/Net_268_P diff pair
BLOCK CIR V1-5  13700.00 2100.00  660   // Wide circle for Net_269_N/Net_270_P diff pair
BLOCK CIR V1-5  14500.00 2100.00  660   // Wide circle for Net_271_N/Net_272_P diff pair
BLOCK CIR V1-5  16100.00 2100.00  660   // Wide circle for Net_273_N/Net_274_P diff pair
BLOCK CIR V1-5  16900.00 2100.00  660   // Wide circle for Net_275_N/Net_276_P diff pair
BLOCK CIR V1-5  13700.00 4500.00  660   // Wide circle for Net_277_N/Net_278_P diff pair
BLOCK CIR V1-5  14500.00 4500.00  660   // Wide circle for Net_279_N/Net_280_P diff pair
BLOCK CIR V1-5  16100.00 4500.00  660   // Wide circle for Net_281_N/Net_282_P diff pair
BLOCK CIR V1-5  16900.00 4500.00  660   // Wide circle for Net_283_N/Net_284_P diff pair
#
# End of pattern for blocking vias directly above BGA balls (no via-in-pad)


#
# Create square barriers on PCB layer that prevent routing on this layer between 
# BGA sites:
#
# Outline of Package: ( 1300 , 1300 )  to  ( 23700 , 23700 )
# 27 horizontal lines:
BLOCK RECT PCB   1300  2100  23700  2100
BLOCK RECT PCB   1300  2900  23700  2900
BLOCK RECT PCB   1300  3700  23700  3700
BLOCK RECT PCB   1300  4500  23700  4500
BLOCK RECT PCB   1300  5300  23700  5300
BLOCK RECT PCB   1300  6100  23700  6100
BLOCK RECT PCB   1300  6900  23700  6900
BLOCK RECT PCB   1300  7700  23700  7700
BLOCK RECT PCB   1300  8500  23700  8500
BLOCK RECT PCB   1300  9300  23700  9300
BLOCK RECT PCB   1300  10100  23700  10100
BLOCK RECT PCB   1300  10900  23700  10900
BLOCK RECT PCB   1300  11700  23700  11700
BLOCK RECT PCB   1300  12500  23700  12500
BLOCK RECT PCB   1300  13300  23700  13300
BLOCK RECT PCB   1300  14100  23700  14100
BLOCK RECT PCB   1300  14900  23700  14900
BLOCK RECT PCB   1300  15700  23700  15700
BLOCK RECT PCB   1300  16500  23700  16500
BLOCK RECT PCB   1300  17300  23700  17300
BLOCK RECT PCB   1300  18100  23700  18100
BLOCK RECT PCB   1300  18900  23700  18900
BLOCK RECT PCB   1300  19700  23700  19700
BLOCK RECT PCB   1300  20500  23700  20500
BLOCK RECT PCB   1300  21300  23700  21300
BLOCK RECT PCB   1300  22100  23700  22100
BLOCK RECT PCB   1300  22900  23700  22900


# 27 vertical lines:
BLOCK RECT PCB   2100  1300  2100  23700
BLOCK RECT PCB   2900  1300  2900  23700
BLOCK RECT PCB   3700  1300  3700  23700
BLOCK RECT PCB   4500  1300  4500  23700
BLOCK RECT PCB   5300  1300  5300  23700
BLOCK RECT PCB   6100  1300  6100  23700
BLOCK RECT PCB   6900  1300  6900  23700
BLOCK RECT PCB   7700  1300  7700  23700
BLOCK RECT PCB   8500  1300  8500  23700
BLOCK RECT PCB   9300  1300  9300  23700
BLOCK RECT PCB   10100  1300  10100  23700
BLOCK RECT PCB   10900  1300  10900  23700
BLOCK RECT PCB   11700  1300  11700  23700
BLOCK RECT PCB   12500  1300  12500  23700
BLOCK RECT PCB   13300  1300  13300  23700
BLOCK RECT PCB   14100  1300  14100  23700
BLOCK RECT PCB   14900  1300  14900  23700
BLOCK RECT PCB   15700  1300  15700  23700
BLOCK RECT PCB   16500  1300  16500  23700
BLOCK RECT PCB   17300  1300  17300  23700
BLOCK RECT PCB   18100  1300  18100  23700
BLOCK RECT PCB   18900  1300  18900  23700
BLOCK RECT PCB   19700  1300  19700  23700
BLOCK RECT PCB   20500  1300  20500  23700
BLOCK RECT PCB   21300  1300  21300  23700
BLOCK RECT PCB   22100  1300  22100  23700
BLOCK RECT PCB   22900  1300  22900  23700
# End of pattern for blocking routing on PCB betwen BGA sites

#
# Unblock large circular regions on the PCB layer to accommodate
# diff-pair pseudo nets:
UNBLOCK CIR PCB  22900.00 11300.00   660   // Wide opening for Net_35_P/Net_36_N diff pair
UNBLOCK CIR PCB  22900.00 12100.00   660   // Wide opening for Net_37_P/Net_38_N diff pair
UNBLOCK CIR PCB  19300.00 22900.00   660   // Wide opening for Net_120_P/Net_121_N diff pair (moved away from package edge)
UNBLOCK CIR PCB  21300.00 20900.00   660   // Wide opening for Net_122_P/Net_123_N diff pair
UNBLOCK CIR PCB  19700.00 18500.00   660   // Wide opening for Net_124_P/Net_125_N diff pair
UNBLOCK CIR PCB  20900.00 15700.00   660   // Wide opening for Net_126_P/Net_127_N diff pair
UNBLOCK CIR PCB  20900.00  9300.00   660   // Wide opening for Net_128_P/Net_129_N diff pair
UNBLOCK CIR PCB  19300.00  7700.00   660   // Wide opening for Net_130_P/Net_131_N diff pair
UNBLOCK CIR PCB  20900.00  3700.00   660   // Wide opening for Net_132_P/Net_133_N diff pair
UNBLOCK CIR PCB  20100.00  2100.00   660   // Wide opening for Net_134_P/Net_135_N diff pair
UNBLOCK CIR PCB  19300.00 12500.00   660   // Wide opening for Net_136_P/Net_137_N diff pair
UNBLOCK CIR PCB  12100.00 18900.00   660   // Wide opening for Net_153_P/Net_154_N diff pair
UNBLOCK CIR PCB  12100.00  6900.00   660   // Wide opening for Net_265_N/Net_266_P diff pair
UNBLOCK CIR PCB  15300.00  6900.00   660   // Wide opening for Net_267_N/Net_268_P diff pair
UNBLOCK CIR PCB  13700.00  2100.00   660   // Wide opening for Net_269_N/Net_270_P diff pair
UNBLOCK CIR PCB  14500.00  2100.00   660   // Wide opening for Net_271_N/Net_272_P diff pair
UNBLOCK CIR PCB  16100.00  2100.00   660   // Wide opening for Net_273_N/Net_274_P diff pair
UNBLOCK CIR PCB  16900.00  2100.00   660   // Wide opening for Net_275_N/Net_276_P diff pair
UNBLOCK CIR PCB  13700.00  4500.00   660   // Wide opening for Net_277_N/Net_278_P diff pair
UNBLOCK CIR PCB  14500.00  4500.00   660   // Wide opening for Net_279_N/Net_280_P diff pair
UNBLOCK CIR PCB  16100.00  4500.00   660   // Wide opening for Net_281_N/Net_282_P diff pair
UNBLOCK CIR PCB  16900.00  4500.00   660   // Wide opening for Net_283_N/Net_284_P diff pair
# End of pattern for unblocking routing on PCB to accommodate diff-pair pseudo nets


#
# Define cost-multipliers for traces and vias;
#
#  trace_cost_multipliter  <multiplier index>     <multiplier value>
#    via_cost_multipliter  <multiplier index>     <multiplier value>
trace_cost_multiplier             1                      2
trace_cost_multiplier             2                      4
trace_cost_multiplier             3                      5


# Avoid routing in rectangle directly beneath center of die:
trace_cost_zone              1                  Pkg_M1           RECT  11000 10000   14000 14000

# Minimize routing on package BGA layer or the PCB layer:
trace_cost_zone              3                  Pkg_M5           ALL
trace_cost_zone              3                    PCB            ALL


#
# Design rules: #########################################
#
design_rule_set Break_Out   Design Rules for break-out area on Pkg_M1 layer near die // Break-out rules
  line_width        = 17   // Minimum linewidth is 17 um in breakout area
  line_spacing      = 20   // Minimum trace-to-trace spacing is ~20um
  via_up_diameter   = 100  // Pad diameter is 100um
  via_down_diameter = 100  // Pad diameter is 100um

  via_up_to_trace_spacing      = 20  // Trace-to-pad spacing is 20um
  via_down_to_trace_spacing    = 20  // Trace-to-pad spacing is 20um
  via_up_to_via_up_spacing     = 40  // Via pad-to-pad spacing is 40-50um
  via_down_to_via_down_spacing = 40  // Via pad-to-pad spacing is 40-50um
  via_up_to_via_down_spacing   = 40  // Via pad-to-pad spacing is 40-50um

  exception = 50_ohm   // Exception design rules for 50-ohm differential pairs 
    diff_pair_pitch = 37  // Center-to-center pitch in break-out zone
  end_exception  // End of exception for 50-ohm differential pairs 

  exception = 100_ohm   // Exception design rules for 100-ohm differential pairs 
    diff_pair_pitch = 37  // Center-to-center pitch in break-out zone
  end_exception  // End of exception for 100-ohm differential pairs
  
end_design_rule_set   // End of design rule set

design_rule_set Non_Bottom   Design Rules for all package layers except bottom layer and breakout area // Rules for routing layers
  line_width        = 20   // Minimum linewidth is ~20 um
  line_spacing      = 20   // Minimum trace-to-trace spacing is ~20um
  via_up_diameter   = 100  // Pad diameter is 100um
  via_down_diameter = 100  // Pad diameter is 100um

  via_up_to_trace_spacing      = 20  // Trace-to-pad spacing is 20um
  via_down_to_trace_spacing    = 20  // Trace-to-pad spacing is 20um
  via_up_to_via_up_spacing     = 40  // Via pad-to-pad spacing is 40-50um
  via_down_to_via_down_spacing = 40  // Via pad-to-pad spacing is 40-50um
  via_up_to_via_down_spacing   = 40  // Via pad-to-pad spacing is 40-50um

  exception = PWR_GND   // Exception design rules power and ground nets 
    line_width        = 40   // Minimum linewidth is ~20 um
  end_exception  // End of exception power and ground nets
  
  exception = 50_ohm   // Exception design rules for 50-ohm differential pairs 
    line_width        = 25   //Linewidth is ~25 um on M1
    line_spacing      = 32   //Line spacing is ~32um on M1

    via_up_to_trace_spacing      = 30  // Trace-to-pad spacing is 20um
    via_down_to_trace_spacing    = 30  // Trace-to-pad spacing is 20um
    via_up_to_via_up_spacing     = 50  // Via pad-to-pad spacing is 40-50um
    via_down_to_via_down_spacing = 50  // Via pad-to-pad spacing is 40-50um
    via_up_to_via_down_spacing   = 50  // Via pad-to-pad spacing is 40-50um
    
    diff_pair_pitch = 58  // Center-to-center pitch forDiff pairs
  end_exception  // End of exception for 50-ohm differential pairs 

  exception = 100_ohm   // Exception design rules for 100-ohm differential pairs 
    line_width        = 35   //Linewidth is ~35 um on M1
    line_spacing      = 50   //Line spacing is ~50 um on M1

    via_up_to_trace_spacing      = 40  // Trace-to-pad spacing is 20um
    via_down_to_trace_spacing    = 50  // Trace-to-pad spacing is 20um
    via_up_to_via_up_spacing     = 50  // Via pad-to-pad spacing is 40-50um
    via_down_to_via_down_spacing = 50  // Via pad-to-pad spacing is 40-50um
    via_up_to_via_down_spacing   = 50  // Via pad-to-pad spacing is 40-50um
    
    diff_pair_pitch = 85  // Center-to-center pitch forDiff pairs
  end_exception  // End of exception for 100-ohm differential pairs
  
end_design_rule_set   // End of design rule set

design_rule_set Pkg_Bottom   Design Rules for bottom package layer  // Rules for bottom pkg layer
  line_width        = 100  // Typical linewidth on bottom is ~100 um
  line_spacing      = 100  // Don't make minimum line spacing too large, or else we get DRC violations
  via_up_diameter   = 500  // BGA pad diameter is 500um
  via_down_diameter = 100  // Via pad diameter is 100um

  via_up_to_trace_spacing      = 140 // Trace-to-pad spacing is 200-300um
  via_down_to_trace_spacing    =  20 // Trace-to-pad spacing is 20um   
  via_up_to_via_up_spacing     = 290 // BGA pad-to-pad spacing is 300 um
  via_down_to_via_down_spacing =  40 // Via pad-to-pad spacing is 40-50um

  via_up_to_via_down_spacing   =  20 // BGA pad-to-via pad spacing is <10 um
  
  exception = PWR_GND   // Exception design rules power and ground nets 
    line_width        = 150
  end_exception  // End of exception power and ground nets
  
  exception = 50_ohm   // Exception design rules for 50-ohm differential pairs 
    diff_pair_pitch = 200  
  end_exception  // End of exception for 50-ohm differential pairs 

  exception = 100_ohm   // Exception design rules for 100-ohm differential pairs 
    diff_pair_pitch = 200
  end_exception  // End of exception for 100-ohm differential pairs
    
end_design_rule_set   // End of design rule set


design_rule_set PCB    Design Rules for top PCB layer  // Rules for top PCB layer
  line_width        = 0    // 5 mils, based on example evaluation board from industry
  line_spacing      = 0    // 4 mils, based on example evaluation board from industry
  via_up_diameter   = 0    // Not applicable for single-layer PCB
  via_down_diameter = 500  // BGA pad diameter is 500um

  via_up_to_trace_spacing      = 0   // Not applicable for single-layer PCB
  via_down_to_trace_spacing    = 0   // 4 mils, based on example evaluation board from industry
  via_up_to_via_up_spacing     = 0   // Not applicable for single-layer PCB
  via_down_to_via_down_spacing = 290 // BGA pad-to-pad spacing is 300 um
  via_up_to_via_down_spacing   = 0   // Not applicable for single-layer PCB
  
  exception = 50_ohm   // Exception design rules for 50-ohm differential pairs 
    diff_pair_pitch = 200  
  end_exception  // End of exception for 50-ohm differential pairs 

  exception = 100_ohm   // Exception design rules for 100-ohm differential pairs 
    diff_pair_pitch = 200
  end_exception  // End of exception for 100-ohm differential pairs
  
  
end_design_rule_set   // End of design rule set


############ Define define-rule zones: #####################
##
## Specify which areas on each layer will use each design-rule set.
## All coordinates are in microns.
##
##  DR_zone <DR name> <layer name>  RECT  X1 Y1 X2 Y2 // Use DR set 'DR name' in
##                                                    // rectangle defined by
##                                                    // (x1, y1) and (x2, y2)
##                                                    // on layer 'layer name'.
##
##  DR_zone <DR name> <layer name> TRI  X1 Y1 X2 Y2 X2 Y3 // User DR set 'DR name'
##                                                        // in triangle defined by
##                                                        // 3 x/y coordinates on
##                                                        // layer 'layer name'.
##
##  DR_zone <DR name> <layer name> CIR  X Y R  // Use DR set 'DR name' in circle
##                                             // defined by center (x,y) and radius
##                                             // R on layer 'layer name'.
##
##  DR_zone <DR name> <layer name> ALL      // Use DR set 'DR name' on all cells
##                                          // on layer <layer name>.
##
DR_zone   Non_Bottom      Pkg_M1    ALL
DR_zone   Break_Out       Pkg_M1    RECT   9352.6  8817.82     15647.4  16218.9  // Area within 100 um of C4 bump array 
# DR_zone   Non_Bottom      Pkg_M2    ALL
# DR_zone   Non_Bottom      Pkg_M3    ALL
# DR_zone   Non_Bottom      Pkg_M4    ALL
DR_zone   Pkg_Bottom      Pkg_M5    ALL
DR_zone   PCB             PCB       ALL



#################################################################################
#################################################################################
#################################################################################
#
# The following parameters affect the final routed solution and run-time, but
# should not be modified without extreme caution:
#
#

# The parameter 'maxIterations' is the maximum number of iterations the program
# will make to find a crossing-free solution.
maxIterations = 2000

# The parameter 'violationFreeThreshold' is the minimum number of crossing-free
# solutions that program will find before deciding that it has found the
# optimal solution.
violationFreeThreshold = 50

# The parameter 'vertCost' is the cost of routing up or down to a different
# routing layer, i.e., the cost of a layer-to-layer via. The value is in
# microns, and should be interpreted as half the trace-length that could be
# avoided by adding a via to a different layer.
vertCost  = 5000   // in microns of equivalent trace length

# The parameter 'runsPerPngMap' is the number of iterations to run between
# writing PNG versions of the routing maps.
runsPerPngMap =  1
